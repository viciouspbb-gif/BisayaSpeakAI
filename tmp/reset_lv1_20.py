import json
import re
from pathlib import Path

ROOT = Path(r"d:/Bisaya_Rescue")
TARGET = ROOT / "app/src/main/assets/listening_seed.json"


def tokenize(text: str) -> list[str]:
    cleaned = re.sub(r"[?!,]", "", text)
    cleaned = cleaned.replace("-", " ")
    cleaned = cleaned.replace("'", " ")
    cleaned = re.sub(r"\s+", " ", cleaned).strip()
    return [token for token in cleaned.split(" ") if token]

curriculum = {
    1: [
        ("Maayong buntag", "おはよう"),
        ("Maayong hapon", "こんにちは（午後）"),
        ("Maayong gabii", "こんばんは"),
        ("Kumusta ka", "元気ですか？"),
        ("Maayo ra ko", "私は元気です"),
        ("Salamat", "ありがとう"),
        ("Walay sapayan", "どういたしまして"),
        ("Ayo ayo", "元気でね"),
        ("Amping ha", "気をつけてね"),
        ("Nalipay ko magkita nimo", "会えて嬉しいです"),
    ],
    2: [
        ("Oo", "はい"),
        ("Dili", "いいえ"),
        ("Wala", "ありません"),
        ("Sige", "了解です"),
        ("Pwede", "できます"),
        ("Dili pwede", "できません"),
        ("Basin siguro", "たぶんそうです"),
        ("Maayo ra", "大丈夫です"),
        ("Wala pa", "まだです"),
        ("Naa pa", "まだあります"),
    ],
    3: [
        ("Ako", "私"),
        ("Ikaw", "あなた"),
        ("Siya", "彼／彼女"),
        ("Kami ra", "私たち（あなた抜き）"),
        ("Kita tanan", "私たち全員"),
        ("Kamo tanan", "あなたたち全員"),
        ("Sila tanan", "彼ら全員"),
        ("Akong amigo", "私の友達"),
        ("Imong pamilya", "あなたの家族"),
        ("Iyang trabaho", "彼／彼女の仕事"),
    ],
    4: [
        ("Kaon ta karon", "今食べよう"),
        ("Kaon ko ug pan", "パンを食べます"),
        ("Inom ko tubig", "水を飲みます"),
        ("Inom ta kape", "コーヒーを飲もう"),
        ("Tulog na ko", "もう寝ます"),
        ("Mata na palihug", "起きてください"),
        ("Laba ko sa sanina", "服を洗います"),
        ("Ligo ta sa dagat", "海で泳ごう"),
        ("Lakaw ta palihug", "歩きましょう"),
        ("Balik ko unya", "あとで戻ります"),
    ],
    5: [
        ("Init kaayo diri", "ここはとても暑いです"),
        ("Bugnaw ang tubig", "水が冷たいです"),
        ("Dako kaayo ang balay", "家が大きいです"),
        ("Gamay ra ang kwarto", "部屋が小さいです"),
        ("Taas siya", "彼／彼女は背が高いです"),
        ("Mubo ko", "私は背が低いです"),
        ("Humok ang unlan", "枕が柔らかいです"),
        ("Lig on ang lamesa", "机が頑丈です"),
        ("Baga kaayo ang libro", "本がとても厚いです"),
        ("Hayag ang adlaw", "陽射しが明るいです"),
    ],
    6: [
        ("Gigutom ko", "お腹が空きました"),
        ("Gikapoy ko", "疲れました"),
        ("Giuhaw ko", "喉が渇きました"),
        ("Nalipay ko", "嬉しいです"),
        ("Nagool ko", "心配しています"),
        ("Nasuko ko", "怒っています"),
        ("Naglibog ko", "混乱しています"),
        ("Nahadlok ko", "怖いです"),
        ("Masakiton ko", "体調が悪いです"),
        ("Ganahan ko mopahuway", "休みたいです"),
    ],
    7: [
        ("Asa ka", "どこにいるの？"),
        ("Ania ko sa balay", "家にいます"),
        ("Ania ko sa opisina", "オフィスにいます"),
        ("Asa sila karon", "みんな今どこ？"),
        ("Ania ra siya sa gawas", "彼／彼女は外にいます"),
        ("Tua ko sa merkado", "市場にいます"),
        ("Anhi diri palihug", "こちらに来てください"),
        ("Didto ko ganiha", "さっきそこにいました"),
        ("Asa dapit ang terminal", "ターミナルはどの辺ですか？"),
        ("Ania ta sa klase", "今授業にいます"),
    ],
    8: [
        ("Akoa kini", "これは私のものです"),
        ("Imoha kana", "それはあなたのものです"),
        ("Iya ni Maria", "これはマリアのものです"),
        ("Amuha ning balay", "この家は私たちのものです"),
        ("Inyong libro ni", "これはあなたたちの本です"),
        ("Ilaha tong sakyanan", "あの車は彼らのものです"),
        ("Akong pitaka gikan Japan", "私の財布は日本製です"),
        ("Imong cellphone nindot", "あなたの携帯は素敵ですね"),
        ("Akoa ang trabaho karon", "今の仕事は私の担当です"),
        ("Akoa ning plano", "この計画は私のものです"),
    ],
    9: [
        ("Gusto ko mokaon ug sinugba", "焼き魚を食べたいです"),
        ("Gusto ko moinom ug kape", "コーヒーを飲みたいです"),
        ("Gusto ko moadto sa dagat", "海に行きたいです"),
        ("Gusto ko motan aw sine", "映画を観たいです"),
        ("Gusto ko magpahuway", "休みたいです"),
        ("Gusto ko magtuon Bisaya", "ビサヤ語を学びたいです"),
        ("Gusto ko makigstorya nimo", "あなたと話したいです"),
        ("Ganahan ko mokaon og mangga", "マンゴーを食べたいです"),
        ("Ganahan ko muadto Japan", "日本に行きたいです"),
        ("Gusto ko makatulog sayo", "早く寝たいです"),
    ],
    10: [
        ("Uli na ko", "もう帰ります"),
        ("Lakaw na ta", "そろそろ行きましょう"),
        ("Balik ko unya", "あとで戻ります"),
        ("Moadto ko sa trabaho", "仕事に行きます"),
        ("Moanha ko didto", "あそこへ行きます"),
        ("Hulat sa ko diri", "ここで待っています"),
        ("Sulod na mo", "中に入ってください"),
        ("Gawas ta gamay", "少し外に出ましょう"),
        ("Dali na og sakay", "早く乗ってください"),
        ("Naug ko sa kanto", "角で降ります"),
    ],
    11: [
        ("Unsa kini", "これは何ですか？"),
        ("Unsa na imong dala", "それは何を持っていますか？"),
        ("Kinsa ka", "あなたは誰ですか？"),
        ("Kinsa siya", "彼／彼女は誰ですか？"),
        ("Unsa imong pangalan", "あなたの名前は？"),
        ("Unsa iyang trabaho", "彼／彼女の仕事は？"),
        ("Kinsa inyong maestro", "先生は誰ですか？"),
        ("Unsa ni nga tunog", "これはどんな音ですか？"),
        ("Kinsa pa ang mouban", "誰が一緒に行きますか？"),
        ("Unsa imong plano", "あなたの予定は？"),
    ],
    12: [
        ("Asa dapit", "どの辺ですか？"),
        ("Asa ka moadto", "どこへ行くのですか？"),
        ("Asa ang tindahan", "店はどこですか？"),
        ("Asa dapit ang hospital", "病院はどの辺ですか？"),
        ("Kanus a ka moabot", "いつ到着しますか？"),
        ("Kanus a ta magkita", "いつ会いましょうか？"),
        ("Asa ka karon", "今どこにいますか？"),
        ("Kanus a ang flight", "フライトはいつですか？"),
        ("Asa dapit ang park", "公園はどの辺ですか？"),
        ("Kanus a ko mulakaw", "いつ出発すればいいですか？"),
    ],
    13: [
        ("Tagpila kini", "これはいくらですか？"),
        ("Tagpila ni tanan", "全部でいくらですか？"),
        ("Tagpila ang isa", "一ついくらですか？"),
        ("Tagpila ang kilo", "1キロいくらですか？"),
        ("Pwede pa mahangyo", "値引きできますか？"),
        ("Barato ra ni", "これは安いですよ"),
        ("Mahal kaayo ni", "これは高すぎます"),
        ("Tagpila ang plete", "運賃はいくらですか？"),
        ("Tagpila imong gusto", "いくらを希望しますか？"),
        ("Last price na", "これが最終価格ですか？"),
    ],
    14: [
        ("Bayad palihug", "支払いお願いします"),
        ("Lugar lang", "ここで止めてください"),
        ("Naog ko sa kanto", "角で降ります"),
        ("Saka na ta", "乗りましょう"),
        ("Hapit na ko musuod", "もうすぐ乗ります"),
        ("Ayaw kalimot og sukli", "お釣りを忘れないで"),
        ("Asa ang sakayan", "乗り場はどこですか？"),
        ("Paabot ug jeep", "ジープを待ってください"),
        ("Lingkod sa likod", "後ろに座ってください"),
        ("Dali ra ang biyahe", "すぐ到着します"),
    ],
    15: [
        ("Taga Japan ko", "私は日本から来ました"),
        ("Ako si Ken", "私はケンです"),
        ("Puyo ko sa Cebu", "セブに住んでいます"),
        ("Nagtrabaho ko sa IT", "ITで働いています"),
        ("Mahilig ko sa kanta", "歌うのが好きです"),
        ("Ganahan ko mag travel", "旅行が好きです"),
        ("Nagtuon ko og Bisaya", "ビサヤ語を勉強中です"),
        ("Gusto ko makaila ninyo", "皆さんと知り合いたいです"),
        ("Nalipay ko makigstorya", "お話しできて嬉しいです"),
        ("Palihug tabangi ko magpraktis", "練習を手伝ってください"),
    ],
    16: [
        ("Lami kaayo", "とても美味しいです"),
        ("Gutom na ko", "お腹がすきました"),
        ("Kaon ta sa carinderia", "食堂で食べましょう"),
        ("Palihug og dugang nga sabaw", "スープを追加してください"),
        ("Pakiluto pa gamay", "もう少し火を通してください"),
        ("Busog na ko", "お腹いっぱいです"),
        ("Tilawi ni", "これを味見してみて"),
        ("Palihug ihatag ang kutsara", "スプーンを渡してください"),
        ("Timplahi ug gamayng asin", "塩を少し加えてください"),
        ("Paborito nako ang sinugba", "焼き料理が大好きです"),
    ],
    17: [
        ("Nalipay ko karon", "今は嬉しいです"),
        ("Nagool ko gamay", "少し心配です"),
        ("Nasuko siya ganiha", "さっき彼は怒っていました"),
        ("Nahadlok ko sa kilat", "雷が怖いです"),
        ("Naglibog ko unsa buhaton", "何をすればいいか混乱しています"),
        ("Nalingaw ko sa salida", "ショーを楽しみました"),
        ("Naulaw ko sa akong sayop", "自分のミスが恥ずかしいです"),
        ("Naguol ko sa balita", "ニュースで落ち込みました"),
        ("Nalipay ko nga naa ka", "あなたがいて嬉しいです"),
        ("Nagpahulay ko aron dili kapoy", "疲れないように休んでいます"),
    ],
    18: [
        ("Init kaayo sa gawas", "外はとても暑いです"),
        ("Bugnaw ang hangin karon", "今日は風が涼しいです"),
        ("Nag uwan pag ayo", "大雨が降っています"),
        ("Walay adlaw karon", "今日は日差しがありません"),
        ("Kusog ang kilat kagabii", "昨夜雷が激しかった"),
        ("Mahangin sa buntag", "朝は風が強い"),
        ("Ting init na", "もう夏です"),
        ("Ting ulan na pud", "また雨季になりました"),
        ("Lapok ang dalan", "道がぬかるんでいます"),
        ("Humok ang panganod", "雲が柔らかそうです"),
    ],
    19: [
        ("Naa kay change", "お釣りはありますか？"),
        ("Palihug og sukli", "お釣りをください"),
        ("Pila tanan", "全部でいくらですか？"),
        ("Pwede ko mobayad ug GCash", "GCashで払ってもいいですか？"),
        ("Asa ang cash register", "レジはどこですか？"),
        ("Palit ko ani duha", "これを二つ買います"),
        ("Wala moy mas barato", "もっと安いのはありますか？"),
        ("Testingan nako ni", "これを試してみます"),
        ("Salamat sa inyong serbisyo", "サービスをありがとう"),
        ("Balik ko ugma", "また明日来ます"),
    ],
    20: [
        ("Magkita ta unya", "また後で会いましょう"),
        ("Amping sa biyahe", "道中気をつけて"),
        ("Huwat ko sa imong chat", "メッセージを待っています"),
        ("Tawagi ko puhon", "また電話してね"),
        ("Mag amping kanunay", "いつも気をつけてね"),
        ("Kita kits", "またね"),
        ("Dali ra ta magbalik", "すぐ戻ってきます"),
        ("Daghang salamat ug ayo ayo", "本当にありがとう、元気でね"),
        ("Ayo ayo sa imong lakaw", "行ってらっしゃい"),
        ("Magkita ta sunod semana", "来週また会いましょう"),
    ],
}

records = []
for level in range(1, 21):
    sentences = curriculum[level]
    if len(sentences) != 10:
        raise ValueError(f"Level {level} does not have exactly 10 sentences")
    for idx, (native, translation) in enumerate(sentences, start=1):
        records.append({
            "id": f"LV{level:02d}_Q{idx:02d}",
            "level": level,
            "native": native,
            "translation": translation,
            "words": tokenize(native)
        })

with TARGET.open("w", encoding="utf-8") as f:
    json.dump(records, f, ensure_ascii=False, indent=2)

print(f"Wrote {len(records)} entries for levels 1-20")
