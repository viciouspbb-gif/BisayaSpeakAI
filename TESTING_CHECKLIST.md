# Bisaya Speak AI - テストチェックリスト

## 📋 ビルド前の確認

### ✅ 環境確認
- [ ] Android Studioが起動している
- [ ] プロジェクトが開かれている（`C:\Users\katsunori\CascadeProjects\BisayaSpeakAI`）
- [ ] Gradle Syncが完了している（下部のステータスバーで確認）

### ✅ 必要なファイル
- [x] `app/build.gradle.kts` - ビルド設定
- [x] `AndroidManifest.xml` - アプリ設定
- [x] 全17個のKotlinファイル - アプリコード
- [x] リソースファイル（themes.xml, backup_rules.xml等）

---

## 🔨 ビルド手順

### ステップ1: Gradle Sync
```
Android Studio下部のステータスバーを確認
"Gradle sync finished" と表示されるまで待つ
```

### ステップ2: ビルド実行
```
方法A: メニューから
Build → Make Project (Ctrl + F9)

方法B: ツールバーから
緑のハンマーアイコンをクリック
```

**期待される結果:**
```
BUILD SUCCESSFUL in Xs
```

### ステップ3: デバイス選択
```
上部ツールバーのデバイスドロップダウンから選択:
- エミュレータ（推奨）
- または実機
```

### ステップ4: アプリ実行
```
方法A: メニューから
Run → Run 'app' (Shift + F10)

方法B: ツールバーから
緑の三角（▶）ボタンをクリック
```

---

## 🧪 基本機能テスト

### テスト1: アプリ起動
- [ ] アプリが起動する
- [ ] スプラッシュ画面が表示される（あれば）
- [ ] レベル選択画面が表示される

**期待される画面:**
```
┌─────────────────────────┐
│  Bisaya Speak AI        │
│                         │
│  ┌─────────────────┐   │
│  │   初級 (Beginner)│   │
│  │   10 phrases    │   │
│  └─────────────────┘   │
│                         │
│  ┌─────────────────┐   │
│  │   中級 (Inter.)  │   │
│  │   10 phrases    │   │
│  └─────────────────┘   │
│                         │
│  ┌─────────────────┐   │
│  │   上級 (Advanced)│   │
│  │   3 phrases     │   │
│  └─────────────────┘   │
└─────────────────────────┘
```

### テスト2: レベル選択
- [ ] 「初級」カードをタップ
- [ ] 練習画面に遷移する
- [ ] フレーズリストが表示される

**期待される画面:**
```
┌─────────────────────────┐
│  ← 初級                  │
│                         │
│  挨拶                    │
│  ┌─────────────────┐   │
│  │ Maayong buntag  │   │
│  │ おはよう         │   │
│  └─────────────────┘   │
│  ┌─────────────────┐   │
│  │ Maayong hapon   │   │
│  │ こんにちは       │   │
│  └─────────────────┘   │
│                         │
│  [バナー広告]           │
└─────────────────────────┘
```

### テスト3: バナー広告表示
- [ ] 練習画面の下部にバナー広告が表示される
- [ ] 広告のサイズが適切（画面幅に合っている）
- [ ] 広告がコンテンツを妨げない

**確認ポイント:**
- テスト広告ID使用中は「Test Ad」と表示される
- 広告が表示されない場合は、インターネット接続を確認

### テスト4: 録音画面遷移
- [ ] フレーズ「Maayong buntag」をタップ
- [ ] 録音画面に遷移する
- [ ] マイク権限のダイアログが表示される

**期待される動作:**
```
1. 権限ダイアログ表示
   "Bisaya Speak AIがマイクへのアクセスを求めています"
   
2. 「許可」をタップ

3. 録音画面表示
   - フレーズ表示
   - 録音ボタン（マイクアイコン）
   - 診断ボタン（無効状態）
```

### テスト5: 録音機能
- [ ] マイク権限を許可
- [ ] 録音ボタンをタップ
- [ ] 録音中の表示（赤い脈動アニメーション）
- [ ] 2-3秒後、停止ボタンをタップ
- [ ] 録音が停止する
- [ ] 診断ボタンが有効になる

**確認ポイント:**
- 録音中はボタンが赤く点滅する
- 停止後、音声ファイルが保存される
- 診断ボタンが青色に変わる

### テスト6: インタースティシャル広告（サーバーなし）
- [ ] 「発音を診断」ボタンをタップ
- [ ] インタースティシャル広告が表示される
- [ ] 5秒後に「×」ボタンで閉じられる
- [ ] エラーメッセージが表示される（サーバー未起動のため）

**期待される動作:**
```
1. 広告表示（全画面）
2. 広告を閉じる
3. エラーダイアログ表示
   "サーバーに接続できません"
   "Pythonサーバーが起動していることを確認してください"
```

---

## 🐛 トラブルシューティング

### ビルドエラー: "Gradle sync failed"
**原因:** 依存関係のダウンロード失敗

**解決策:**
```
1. File → Invalidate Caches → Invalidate and Restart
2. 再度 Gradle Sync を実行
```

### ビルドエラー: "Compilation error"
**原因:** Kotlinコードのエラー

**解決策:**
```
1. Build → Clean Project
2. Build → Rebuild Project
3. エラーメッセージを確認して修正
```

### 実行エラー: "Installation failed"
**原因:** デバイスが認識されていない

**解決策:**
```
エミュレータの場合:
1. AVD Managerでエミュレータを起動
2. 起動完了を待つ
3. 再度 Run を実行

実機の場合:
1. USBデバッグが有効か確認
2. adb devices で認識確認
3. 再接続
```

### 実行時エラー: "App crashes on launch"
**原因:** ランタイムエラー

**解決策:**
```
1. Logcatを開く（Alt + 6）
2. エラーメッセージを確認
3. スタックトレースから原因を特定
```

### 広告が表示されない
**原因:** インターネット接続またはAdMob設定

**解決策:**
```
1. インターネット接続を確認
2. エミュレータの場合、ネットワーク設定を確認
3. Logcatで広告関連のエラーを確認
```

### マイク権限が取得できない
**原因:** エミュレータのマイク設定

**解決策:**
```
エミュレータの場合:
1. AVD設定で "Virtual microphone uses host audio input" を有効化
2. エミュレータを再起動

実機の場合:
1. アプリ設定でマイク権限を確認
2. 手動で権限を付与
```

---

## ✅ テスト結果記録

### ビルド結果
```
日時: _______________
ビルド成功: ✅ / ❌
ビルド時間: _______秒
エラー: _______________
```

### 実行結果
```
デバイス: エミュレータ / 実機
Android バージョン: _______
起動成功: ✅ / ❌
クラッシュ: なし / あり
```

### 機能テスト結果
```
レベル選択: ✅ / ❌
練習画面: ✅ / ❌
バナー広告: ✅ / ❌
録音画面: ✅ / ❌
マイク権限: ✅ / ❌
録音機能: ✅ / ❌
インタースティシャル広告: ✅ / ❌
```

### 問題点
```
1. _______________
2. _______________
3. _______________
```

---

## 🎯 次のステップ

### サーバーなしで確認できること
- ✅ アプリの起動
- ✅ UI/UXの確認
- ✅ 画面遷移
- ✅ 広告表示
- ✅ 録音機能
- ✅ マイク権限

### サーバーが必要な機能
- ❌ 発音診断
- ❌ スコア表示
- ❌ フィードバック表示

### Pythonサーバーのセットアップ（次回）
```
1. Python環境のインストール
2. 依存パッケージのインストール
3. サーバー起動
4. 発音診断機能のテスト
```

---

## 📝 メモ

### 確認したこと
```
_______________
_______________
_______________
```

### 気づいた点
```
_______________
_______________
_______________
```

### 改善案
```
_______________
_______________
_______________
```

---

**このチェックリストを使って、段階的にテストを進めてください！** ✅
